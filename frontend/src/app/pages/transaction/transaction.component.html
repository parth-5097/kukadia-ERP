<div class="row row-space-class">
  <div class="col-12">
    <div class="comn-title-tag d-md-flex align-items-center">
      <h1>transaction</h1>
      <div class="ml-auto mt-3 mt-md-0">
        <ul class="col-right-drop d-sm-flex align-items-center">
          <li>
            <span>Bank Account :</span>
          </li>
          <li class="mx-sm-2">
            <select class="custom-select form-control slect-menu-comn">
              <option selected="">ICICI Bank</option>
              <option value="1">One</option>
              <option value="2">Two</option>
              <option value="3">Three</option>
            </select>
          </li>
        </ul>
      </div>
    </div>
  </div>
  <div class="col-12">
    <div class="dash-white-bx">
      <table
        datatable
        [dtOptions]="dtOptions"
        [dtTrigger]="dtTrigger"
        id="transaction-list"
        class="display"
      >
        <thead>
          <tr>
            <th>Date</th>
            <th>Transaction #</th>
            <th>Payee</th>
            <th>Account</th>
            <th>Memo</th>
            <th>Deposit</th>
            <th>Payment</th>
            <th>Balance</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody *ngIf="data?.length != 0">
          <tr *ngFor="let person of data; index as i">
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="date"
                [(ngModel)]="data[i].date"
                [placeholder]="person.date"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.date }}
            </td>
            <td (dblclick)="person.isEditable = !person.isEditable">
              {{ person.transaction }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="text"
                [(ngModel)]="data[i].payee"
                [placeholder]="person.payee"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.payee }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="text"
                [(ngModel)]="data[i].account"
                [placeholder]="person.account"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.account }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="text"
                [(ngModel)]="data[i].memo"
                [placeholder]="person.memo"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.memo }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="number"
                [(ngModel)]="data[i].deposite"
                [placeholder]="person.deposite"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.deposite }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="number"
                [(ngModel)]="data[i].payment"
                [placeholder]="person.payment"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.payment }}
            </td>
            <td *ngIf="person.isEditable">
              <input
                class="input-style"
                type="number"
                [(ngModel)]="data[i].balance"
                [placeholder]="person.balance"
                (keyup.enter)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
              />
            </td>
            <td
              *ngIf="!person.isEditable"
              (dblclick)="person.isEditable = !person.isEditable"
            >
              {{ person.balance }}
            </td>
            <td>
              <a
                href="javascript:void(0)"
                (click)="person.isEditable = !person.isEditable"
                *ngIf="!person.isEditable"
              >
                <img
                  src="/assets/images/edit-icon-table.svg"
                  class="mx-2 table-img-inr"
                  alt=""
                />
              </a>
              <a
                href="javascript:void(0)"
                (click)="
                  [
                    (person.isEditable = !person.isEditable),
                    onEditRaw(person.id)
                  ]
                "
                *ngIf="person.isEditable"
                style="margin-right: 10px"
              >
                <i class="fa fa-check fa-lg" aria-hidden="true"></i>
              </a>
              <a
                href="javascript:void(0)"
                (click)="[(person.isEditable = !person.isEditable), rerender()]"
                *ngIf="person.isEditable"
                style="margin-right: 6px"
              >
                <i class="fa fa-close fa-lg"></i>
              </a>
              <a
                *ngIf="!person.isEditable"
                href="javascript:void(0)"
                (click)="onDeleteRaw(person.id)"
              >
                <img
                  src="/assets/images/delete-icon.svg"
                  class="mx-2 table-img-inr"
                  alt=""
                />
              </a>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="text-sm-right text-center py-3 end-total-text">
        <p>
          Ending Balance : <span>{{ ending_balance }}</span>
        </p>
        <button type="submit" class="btn-theme-color">Save</button>
        <button type="button" class="btn-white ml-2">Cancel</button>
      </div>
    </div>
  </div>
</div>
