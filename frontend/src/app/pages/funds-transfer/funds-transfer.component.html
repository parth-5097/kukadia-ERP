<div class="row row-space-class">
  <div class="col-12">
    <div class="comn-title-tag d-md-flex align-items-center">
      <h1>funds transfer</h1>
      <div class="ml-auto mt-3 mt-md-0 d-md-flex align-items-center">
        <button
          type="button"
          class="btn-white mr-2"
          (click)="onSubmit('close')"
        >
          Save & Close
        </button>
        <button
          type="button"
          class="btn-white mr-2"
          data-toggle="modal"
          data-target="#save-new-modal"
          (click)="onSubmit('new')"
        >
          Save & New
        </button>
        <button type="button" class="btn-white mr-2" (click)="onResetForm()">
          Revert
        </button>
        <select
          #val
          class="form-control slect-menu-comn btn-white h-auto"
          (change)="onExport(val.value)"
        >
          <option selected="" disabled>Export</option>
          <option value="excel">Excel</option>
          <option value="pdf">PDF</option>
        </select>
      </div>
    </div>
  </div>
  <div class="col-12">
    <div class="dash-white-bx">
      <form [formGroup]="fundTransaferForm">
        <div class="row fix-comn-div">
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">class</label>
              <select
                class="custom-select form-control input-style"
                formControlName="class"
                [ngClass]="{
                  'is-invalid': submitted && f.class.errors
                }"
              >
                <option selected="">select</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
              <div *ngIf="submitted && f.class.errors" class="invalid-feedback">
                <div *ngIf="f.class.errors.required">Class is required</div>
              </div>
            </div>
          </div>
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">transfer funds from :</label>
              <select
                class="custom-select form-control input-style"
                formControlName="t_f_from"
                [ngClass]="{
                  'is-invalid': submitted && f.t_f_from.errors
                }"
              >
                <option selected="">select</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
              <div
                *ngIf="submitted && f.t_f_from.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.t_f_from.errors.required">
                  Transafer funds from is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">Date :</label>
              <input
                type="date"
                name=""
                class="form-control input-style"
                placeholder=""
                formControlName="date"
                [ngClass]="{
                  'is-invalid': submitted && f.date.errors
                }"
              />
              <div *ngIf="submitted && f.date.errors" class="invalid-feedback">
                <div *ngIf="f.date.errors.required">Date is required</div>
              </div>
            </div>
          </div>
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">transfer funds to :</label>
              <select
                class="custom-select form-control input-style"
                formControlName="t_f_to"
                [ngClass]="{
                  'is-invalid': submitted && f.t_f_to.errors
                }"
              >
                <option selected="">select</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
              <div
                *ngIf="submitted && f.t_f_to.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.t_f_to.errors.required">
                  Transafer funds to is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">transfer currency :</label>
              <select
                class="custom-select form-control input-style"
                formControlName="t_currency"
                [ngClass]="{
                  'is-invalid': submitted && f.t_currency.errors
                }"
              >
                <option selected="">indian rupee</option>
                <option value="1">One</option>
                <option value="2">Two</option>
                <option value="3">Three</option>
              </select>
              <div
                *ngIf="submitted && f.t_currency.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.t_currency.errors.required">
                  Transafer currency is required
                </div>
              </div>
            </div>
          </div>
          <div class="col-xl col-lg-6">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">transfer amount :</label>
              <input
                type="text"
                name=""
                class="form-control input-style"
                formControlName="t_amount"
                [ngClass]="{
                  'is-invalid': submitted && f.t_amount.errors
                }"
              />
              <div
                *ngIf="submitted && f.t_amount.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.t_amount.errors.required">
                  Transafer amount is required
                </div>
              </div>
            </div>
          </div>
        </div>
        <table
          datatable
          [dtOptions]="dtOptions"
          [dtTrigger]="dtTrigger"
          id="funds-transfer"
          class="display"
        >
          <thead>
            <tr>
              <th>
                <div class="cust-checkbox-new">
                  <label class="cust-chk-bx">
                    <input type="checkbox" />
                    <span class="cust-chkmark"></span>
                  </label>
                </div>
              </th>
              <th>Date</th>
              <th>Number</th>
              <th>Orig. Amt.</th>
              <th>Amt. Due</th>
              <th>Payment</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody *ngIf="data?.length != 0">
            <tr *ngFor="let person of data; index as i">
              <td>
                <div class="cust-checkbox-new">
                  <label class="cust-chk-bx">
                    <input class="checkhour" type="checkbox" />
                    <span class="cust-chkmark"></span>
                  </label>
                </div>
              </td>
              <td *ngIf="person.isEditable">
                <input
                  class="input-style"
                  type="date"
                  [(ngModel)]="data[i].date"
                  [placeholder]="person.date"
                  (keyup.enter)="
                    [
                      (person.isEditable = !person.isEditable),
                      onEditRaw(person.id)
                    ]
                  "
                />
              </td>
              <td
                *ngIf="!person.isEditable"
                (dblclick)="person.isEditable = !person.isEditable"
              >
                {{ person.date }}
              </td>
              <td (dblclick)="person.isEditable = !person.isEditable">
                INV/{{ person.id }}
              </td>
              <td *ngIf="person.isEditable">
                <input
                  class="input-style"
                  type="number"
                  [(ngModel)]="data[i].t_amount"
                  [placeholder]="person.t_amount"
                  (keyup.enter)="
                    [
                      (person.isEditable = !person.isEditable),
                      onEditRaw(person.id)
                    ]
                  "
                />
              </td>
              <td
                *ngIf="!person.isEditable"
                (dblclick)="person.isEditable = !person.isEditable"
              >
                {{ person.t_amount }}
              </td>
              <td (dblclick)="person.isEditable = !person.isEditable">
                350.00
              </td>
              <td (dblclick)="person.isEditable = !person.isEditable">
                350.00
              </td>
              <td>
                <a
                  href="javascript:void(0)"
                  (click)="person.isEditable = !person.isEditable"
                  *ngIf="!person.isEditable"
                >
                  <img
                    src="/assets/images/edit-icon-table.svg"
                    class="mx-2 table-img-inr"
                    alt=""
                  />
                </a>
                <a
                  href="javascript:void(0)"
                  (click)="
                    [
                      (person.isEditable = !person.isEditable),
                      onEditRaw(person.id)
                    ]
                  "
                  *ngIf="person.isEditable"
                  style="margin-right: 10px"
                >
                  <i class="fa fa-check fa-lg" aria-hidden="true"></i>
                </a>
                <a
                  href="javascript:void(0)"
                  (click)="
                    [(person.isEditable = !person.isEditable), rerender()]
                  "
                  *ngIf="person.isEditable"
                  style="margin-right: 6px"
                >
                  <i class="fa fa-close fa-lg"></i>
                </a>
                <a
                  *ngIf="!person.isEditable"
                  href="javascript:void(0)"
                  (click)="onDeleteRaw(person.id)"
                >
                  <img
                    src="/assets/images/delete-icon.svg"
                    class="mx-2 table-img-inr"
                    alt=""
                  />
                </a>
              </td>
            </tr>
          </tbody>
        </table>
        <div
          class="row cust-fix-wdth mt-3 justify-content-between align-items-end"
        >
          <div class="col-md-4">
            <div class="form-group d-sm-flex align-items-center">
              <label class="lbl-class">Memo :</label>
              <input type="text" name="" class="form-control input-style" />
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
