(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"24dU":function(t,e,a){"use strict";a.r(e),a.d(e,"ProfileModule",function(){return I});var r=a("ofXK"),i=a("fXoL"),o=a("6uu6"),s=a("tyNb"),n=a("3Pt+");const c=function(){return["/profile/edit"]},d=function(){return["/dashboard"]};let b=(()=>{class t{constructor(t){this.authService=t,this.data={}}ngOnInit(){this.authService.get("current-user").subscribe(t=>{t.data.avatar=t.data.avatar,this.data=t.data})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(o.a))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-profile"]],decls:35,vars:11,consts:[[1,"row","row-space-class"],[1,"col-12"],[1,"comn-title-tag","d-flex","align-items-center"],[1,"ml-auto"],[1,"btn-theme-color",3,"routerLink"],["src","assets/images/pro-edit-icon.svg","alt","",1,"mr-1"],[1,"dash-white-bx"],[1,"prf-section-main"],[1,"prf-section-image","text-center"],["alt","",3,"src"],[1,"row"],[1,"col-md-6","form-group"],[1,"lbl-class"],["type","text","name","","disabled","",1,"form-control","input-style",3,"placeholder"],["type","email","name","","disabled","",1,"form-control","input-style",3,"placeholder"],[1,"my-sm-4","text-center"],["type","button",1,"btn-theme-color",3,"routerLink"],["type","button",1,"btn-white","ml-2",3,"routerLink"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"h1"),i.uc(4,"Profile Settings"),i.Ob(),i.Pb(5,"div",3),i.Pb(6,"a",4),i.Lb(7,"img",5),i.uc(8," Edit Profile "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"div",1),i.Pb(10,"div",6),i.Pb(11,"div",7),i.Pb(12,"div",8),i.Lb(13,"img",9),i.Pb(14,"span"),i.uc(15),i.Ob(),i.Ob(),i.Pb(16,"form",10),i.Pb(17,"div",11),i.Pb(18,"label",12),i.uc(19,"First Name :"),i.Ob(),i.Lb(20,"input",13),i.Ob(),i.Pb(21,"div",11),i.Pb(22,"label",12),i.uc(23,"Last Name :"),i.Ob(),i.Lb(24,"input",13),i.Ob(),i.Pb(25,"div",11),i.Pb(26,"label",12),i.uc(27,"Personal Email :"),i.Ob(),i.Lb(28,"input",14),i.Ob(),i.Pb(29,"div",1),i.Pb(30,"div",15),i.Pb(31,"button",16),i.uc(32," Edit "),i.Ob(),i.Pb(33,"button",17),i.uc(34," Cancel "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.yb(6),i.ec("routerLink",i.hc(8,c)),i.yb(7),i.ec("src",e.data.avatar,i.pc),i.yb(2),i.vc(e.data.first_name+" "+e.data.last_name),i.yb(5),i.ec("placeholder",e.data.first_name),i.yb(4),i.ec("placeholder",e.data.last_name),i.yb(4),i.ec("placeholder",e.data.email),i.yb(3),i.ec("routerLink",i.hc(9,c)),i.yb(2),i.ec("routerLink",i.hc(10,d)))},directives:[s.e,n.t,n.k,n.l,s.c],styles:[".prf-section-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-dark);font-size:18px;font-weight:600;text-transform:capitalize;margin-top:15px}.prf-section-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;min-width:150px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;object-fit:cover;object-position:center}.prf-section-image[_ngcontent-%COMP%]{padding:30px 0 50px}"]}),t})();var l=a("R5I/"),p=a("AytR"),m=a("5eHb");function u(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," First name is required "),i.Ob())}function f(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,u,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f.first_name.errors.required)}}function g(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," Last name is required "),i.Ob())}function h(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,g,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f.last_name.errors.required)}}function v(t,e){1&t&&(i.Pb(0,"div"),i.uc(1,"Email is required"),i.Ob())}function P(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," Email must be a valid email address "),i.Ob())}function w(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,v,2,0,"div",41),i.tc(2,P,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f.email.errors.required),i.yb(1),i.ec("ngIf",t.f.email.errors.email||t.f.email.errors.pattern)}}function O(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," Old password is required "),i.Ob())}function y(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,O,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f1.old_password.errors.required)}}function _(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," New password is required "),i.Ob())}function C(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,_,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f1.new_password.errors.required)}}function x(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," Confirm password is required "),i.Ob())}function L(t,e){1&t&&(i.Pb(0,"div"),i.uc(1," Passwords must match "),i.Ob())}function M(t,e){if(1&t&&(i.Pb(0,"div",40),i.tc(1,x,2,0,"div",41),i.tc(2,L,2,0,"div",41),i.Ob()),2&t){const t=i.ac();i.yb(1),i.ec("ngIf",t.f1.confirm_password.errors.required),i.yb(1),i.ec("ngIf",t.f1.confirm_password.errors.mustMatch)}}const S=function(t){return{"is-invalid":t}},k=[{path:"",component:b},{path:"edit",component:(()=>{class t{constructor(t,e,a,r){this.authService=t,this.formBuilder=e,this.toastr=a,this.router=r,this.data={},this.submitted=!1,this.passSubmit=!1}ngOnInit(){this.authService.get("current-user").subscribe(t=>{this.avatar=t.data.avatar,this.data=t.data}),this.profileForm=this.formBuilder.group({first_name:["",[n.r.required]],last_name:["",[n.r.required]],email:["",[n.r.required,n.r.email,n.r.pattern(/^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$/)]]}),this.changePassForm=this.formBuilder.group({old_password:["",n.r.required],new_password:["",n.r.required],confirm_password:["",n.r.required]},{validator:Object(l.a)("new_password","confirm_password")})}get f(){return this.profileForm.controls}get f1(){return this.changePassForm.controls}onChangePassword(){this.passSubmit=!0,this.changePassForm.invalid||(delete this.changePassForm.value.confirm_password,this.authService.post("change-password",this.changePassForm.value).subscribe(t=>{this.toastr.success(t.message)}))}onSubmit(){this.submitted=!0,this.profileForm.invalid||(Object.keys(this.profileForm.value).forEach(t=>{this.data[t]=this.profileForm.value[t]}),this.authService.put("profile",this.profileForm.value).subscribe(t=>{this.toastr.success(t.message),sessionStorage.setItem("loginUser",JSON.stringify(this.data)),localStorage.setItem("loginUser",JSON.stringify(this.data)),setTimeout(()=>{this.router.navigate(["dashboard"])},0)}))}handleImageChange(t){const e=t.target.files[0],a=new FormData;return a.append("image",e,e.name),this.authService.post("profile-img",a).subscribe(t=>{this.avatar=p.a.PORT_URL+t.imageUrl,window.location.reload()})}onCancel(){this.submitted=!1,this.profileForm.reset(),this.router.navigate(["profile"])}ngAfterViewInit(){$(document).ready(function(){$(".button-psswd").on("click",function(){"false"==$(".input-psswd").attr("psswd-shown")?($(".input-psswd").removeAttr("type"),$(".input-psswd").attr("type","text"),$(".input-psswd").removeAttr("psswd-shown"),$(".input-psswd").attr("psswd-shown","true"),$(".pass-main-show").addClass("active")):($(".input-psswd").removeAttr("type"),$(".input-psswd").attr("type","password"),$(".input-psswd").removeAttr("psswd-shown"),$(".input-psswd").attr("psswd-shown","false"),$(".pass-main-show").removeClass("active"))})})}}return t.\u0275fac=function(e){return new(e||t)(i.Kb(o.a),i.Kb(n.d),i.Kb(m.b),i.Kb(s.b))},t.\u0275cmp=i.Eb({type:t,selectors:[["app-edit-profile"]],decls:73,vars:30,consts:[[1,"row","row-space-class"],[1,"col-12"],[1,"comn-title-tag","d-flex","align-items-center"],[1,"ml-auto"],["href","javascript:void(0)","data-toggle","modal","data-target","#change-password",1,"btn-theme-color"],["src","assets/images/change-password-icon.svg","alt","",1,"mr-1"],[1,"dash-white-bx"],[1,"prf-section-main"],[1,"avatar-upload"],[1,"avatar-edit"],["type","file","id","imageUpload","accept",".png, .jpg, .jpeg",3,"change"],["for","imageUpload"],[1,"avatar-preview"],["id","imagePreview"],["alt","",3,"src"],[1,"row",3,"formGroup","ngSubmit"],[1,"col-md-6","form-group"],[1,"lbl-class"],["type","text","name","","formControlName","first_name","formControlName","first_name",1,"form-control","input-style",3,"placeholder","ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","name","","formControlName","last_name","formControlName","last_name",1,"form-control","input-style",3,"placeholder","ngClass"],["type","email","name","","formControlName","email",1,"form-control","input-style",3,"placeholder","ngClass"],[1,"my-sm-4","text-center"],["type","submit",1,"btn-theme-color"],["type","button",1,"btn-white","ml-2",3,"click"],["id","change-password","tabindex","-1","aria-labelledby","change-password","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-cust-comn","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["src","assets/images/modal-close-icon.svg","alt",""],[1,"modal-body"],[1,"row","comn-form",3,"formGroup","ngSubmit"],[1,"col-12","form-group","position-relative","pass-main-show"],["id","psswd","psswd-shown","false","type","password","name","","placeholder","","formControlName","old_password",1,"form-control","input-style","input-psswd",3,"ngClass"],[1,"fa","fa-eye-slash","pass-iocn","button-psswd"],["id","psswd","psswd-shown","false","type","password","name","","placeholder","","formControlName","new_password",1,"form-control","input-style","input-psswd",3,"ngClass"],["id","psswd","psswd-shown","false","type","password","name","","placeholder","","formControlName","confirm_password",1,"form-control","input-style","input-psswd",3,"ngClass"],[1,"btn-btm-inr-tabs","text-center","my-3"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){1&t&&(i.Pb(0,"div",0),i.Pb(1,"div",1),i.Pb(2,"div",2),i.Pb(3,"h1"),i.uc(4,"Edit Profile"),i.Ob(),i.Pb(5,"div",3),i.Pb(6,"a",4),i.Lb(7,"img",5),i.uc(8," Change Password "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(9,"div",1),i.Pb(10,"div",6),i.Pb(11,"div",7),i.Pb(12,"div",8),i.Pb(13,"div",9),i.Pb(14,"input",10),i.Wb("change",function(t){return e.handleImageChange(t)}),i.Ob(),i.Lb(15,"label",11),i.Ob(),i.Pb(16,"div",12),i.Pb(17,"div",13),i.Lb(18,"img",14),i.Ob(),i.Ob(),i.Ob(),i.Pb(19,"form",15),i.Wb("ngSubmit",function(){return e.onSubmit()}),i.Pb(20,"div",16),i.Pb(21,"label",17),i.uc(22,"First Name :"),i.Ob(),i.Lb(23,"input",18),i.tc(24,f,2,1,"div",19),i.Ob(),i.Pb(25,"div",16),i.Pb(26,"label",17),i.uc(27,"Last Name :"),i.Ob(),i.Lb(28,"input",20),i.tc(29,h,2,1,"div",19),i.Ob(),i.Pb(30,"div",16),i.Pb(31,"label",17),i.uc(32,"Personal Email :"),i.Ob(),i.Lb(33,"input",21),i.tc(34,w,3,2,"div",19),i.Ob(),i.Pb(35,"div",1),i.Pb(36,"div",22),i.Pb(37,"button",23),i.uc(38,"Save"),i.Ob(),i.Pb(39,"button",24),i.Wb("click",function(){return e.onCancel()}),i.uc(40," Cancel "),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Pb(41,"div",25),i.Pb(42,"div",26),i.Pb(43,"div",27),i.Pb(44,"div",28),i.Pb(45,"h5",29),i.uc(46,"change password"),i.Ob(),i.Pb(47,"button",30),i.Lb(48,"img",31),i.Ob(),i.Ob(),i.Pb(49,"div",32),i.Pb(50,"form",33),i.Wb("ngSubmit",function(){return e.onChangePassword()}),i.Pb(51,"div",34),i.Pb(52,"label",17),i.uc(53,"old Password :"),i.Ob(),i.Lb(54,"input",35),i.Lb(55,"i",36),i.tc(56,y,2,1,"div",19),i.Ob(),i.Pb(57,"div",34),i.Pb(58,"label",17),i.uc(59,"new Password :"),i.Ob(),i.Lb(60,"input",37),i.Lb(61,"i",36),i.tc(62,C,2,1,"div",19),i.Ob(),i.Pb(63,"div",34),i.Pb(64,"label",17),i.uc(65,"confirm Password :"),i.Ob(),i.Lb(66,"input",38),i.Lb(67,"i",36),i.tc(68,M,3,2,"div",19),i.Ob(),i.Pb(69,"div",1),i.Pb(70,"div",39),i.Pb(71,"button",23),i.uc(72,"Save"),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob(),i.Ob()),2&t&&(i.yb(18),i.ec("src",e.avatar,i.pc),i.yb(1),i.ec("formGroup",e.profileForm),i.yb(4),i.ec("placeholder",e.data.first_name)("ngClass",i.ic(18,S,e.submitted&&e.f.first_name.errors)),i.yb(1),i.ec("ngIf",e.submitted&&e.f.first_name.errors),i.yb(4),i.ec("placeholder",e.data.last_name)("ngClass",i.ic(20,S,e.submitted&&e.f.last_name.errors)),i.yb(1),i.ec("ngIf",e.submitted&&e.f.last_name.errors),i.yb(4),i.ec("placeholder",e.data.email)("ngClass",i.ic(22,S,e.submitted&&e.f.email.errors)),i.yb(1),i.ec("ngIf",e.submitted&&e.f.email.errors),i.yb(16),i.ec("formGroup",e.changePassForm),i.yb(4),i.ec("ngClass",i.ic(24,S,e.passSubmit&&e.f1.old_password.errors)),i.yb(2),i.ec("ngIf",e.passSubmit&&e.f1.old_password.errors),i.yb(4),i.ec("ngClass",i.ic(26,S,e.passSubmit&&e.f1.new_password.errors)),i.yb(2),i.ec("ngIf",e.passSubmit&&e.f1.new_password.errors),i.yb(4),i.ec("ngClass",i.ic(28,S,e.passSubmit&&e.f1.confirm_password.errors)),i.yb(2),i.ec("ngIf",e.passSubmit&&e.f1.confirm_password.errors))},directives:[n.t,n.k,n.f,n.b,n.j,n.e,r.k,r.m],styles:['.prf-section-image[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:var(--color-dark);font-size:18px;font-weight:600;text-transform:capitalize;margin-top:15px}.avatar-upload[_ngcontent-%COMP%]{position:relative;max-width:205px;margin:20px auto 50px}.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]{position:absolute;right:10px;z-index:1;bottom:10px}.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]{display:inline-block;width:45px;height:45px;margin-bottom:0;border-radius:100%;background-color:var(--thm-color);border:3px solid var(--color-white);cursor:pointer;font-weight:400}.avatar-upload[_ngcontent-%COMP%]   .avatar-edit[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] + label[_ngcontent-%COMP%]:after{content:"\\f040";font-family:FontAwesome;color:var(--color-white);position:absolute;top:7px;left:0;right:0;text-align:center;margin:auto;font-size:20px}.avatar-upload[_ngcontent-%COMP%]   .avatar-preview[_ngcontent-%COMP%]{width:150px;height:150px;position:relative;border-radius:100%;margin:0 auto}.avatar-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:150px;height:150px;min-width:150px;border-radius:50%;-webkit-border-radius:50%;-moz-border-radius:50%;object-fit:cover;object-position:center}.prf-section-image[_ngcontent-%COMP%]{padding:30px 0 50px}.pass-iocn[_ngcontent-%COMP%]{position:absolute;top:38px;right:25px;font-size:18px;cursor:pointer;color:var(--theme-color)}']}),t})()}];let I=(()=>{class t{}return t.\u0275mod=i.Ib({type:t}),t.\u0275inj=i.Hb({factory:function(e){return new(e||t)},imports:[[r.b,s.f.forChild(k),n.h,n.p]]}),t})()}}]);